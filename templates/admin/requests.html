<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Service Requests - BrijeshPi Admin</title>
    <link rel="stylesheet" href="{{ url_for('admin.static', filename='admin/css/style.css') }}">
</head>
<body>
    <aside class="sidebar">
        <div class="brand"><span>BrijeshPi Admin</span></div>
        <ul class="nav-links">
            <li><a href="{{ url_for('admin.dashboard') }}">Dashboard</a></li>
            <li><a href="{{ url_for('admin.requests') }}" class="active">Service Requests</a></li>
            <li><a href="{{ url_for('admin.orders') }}">Orders</a></li>
            <li><a href="{{ url_for('admin.users') }}">Users</a></li>
            <li><a href="{{ url_for('admin.marketing') }}">Marketing</a></li>
            <li><a href="{{ url_for('admin.settings') }}">Settings</a></li>
            <li style="margin-top: 20px;"><a href="/logout" style="color: #ff3b30;">Logout</a></li>
        </ul>
    </aside>
    <main class="main-content">
        <header class="header">
            <h1 class="page-title">Service Requests</h1>
            <div class="header-actions">
                <input type="text" placeholder="Search requests..." style="padding: 10px; border: 1px solid #d2d2d7; border-radius: 8px; width: 250px;">
                <button class="btn-primary" style="width: auto; padding: 0 20px;">+ New Request</button>
            </div>
        </header>
        <section class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>Client Name</th>
                        <th>Service Type</th>
                        <th>Budget</th>
                        <th>Date</th>
                        <th>Status</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for req in requests %}
                    <tr>
                        <td>
                            <div class="product-cell">
                                <div class="product-img" style="border-radius: 50%; background: #e3f2fd; color:#0071e3; display:flex; align-items:center; justify-content:center; font-weight:bold;">
                                    {{ req.client_name[0] | upper }}
                                </div>
                                <div>
                                    <div style="font-weight: 500;">{{ req.client_name }}</div>
                                </div>
                            </div>
                        </td>
                        <td>{{ req.service_type }}</td>
                        <td>{{ req.budget }}</td>
                        <td>{{ req.date }}</td>
                        <td><span class="badge pending">{{ req.status }}</span></td>
                        <td>
                            <button class="action-btn">Accept</button>
                            <button class="action-btn delete">Reject</button>
                        </td>
                    </tr>
                    {% else %}
                    <tr><td colspan="6" style="text-align:center; padding: 20px;">No requests found.</td></tr>
                    {% endfor %}
                </tbody>
            </table>
        </section>
    </main>
</body>
</html>
